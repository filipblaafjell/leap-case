version: 2

models:
  - name: int_amazon_orders
    description: >
      Cleans and standardizes raw Amazon purchase data

    meta:
      owner: data_engineering
      layer: intermediate
      tags: ["amazon", "orders", "intermediate"]

    config:
      materialized: "view"
      alias: "int_amazon_orders"

    columns:
      - name: user_id
        description: "Unique identifier for the Amazon user."
        tests:
          - not_null
      - name: order_date
        description: "The date the order was placed, cast to DATE."
        tests:
          - not_null
      - name: month
        description: "Truncated month key derived from order_date for joining with macro data."
        tests:
          - not_null
      - name: state
        description: "Uppercase standardized U.S. state code from the shipping address."
        tests:
          - not_null
      - name: normalized_category
        description: >
          Cleaned and standardized product category name.
      - name: price
        description: "Unit price per item in USD."
        tests:
          - not_null
